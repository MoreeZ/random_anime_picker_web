(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1002:function(e,t,a){},1003:function(e,t,a){},1004:function(e,t,a){},1005:function(e,t,a){},1006:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(26),l=a.n(s),i=a(424),o=a(35),c=a(36),m=a(38),u=a(37),p=a(39),d=a(42),y=a(48),f=a(87),E=a.n(f),h=a(430),g=a(261),v=a(172),b=a(947),O=a(951),A=a(171),N=a.n(A),S=a(426),I=a.n(S),_=a(262),T=a.n(_),M=a(86),j=a.n(M),w=a(88),D=a.n(w),L=a(258),k=a.n(L),x=a(427),C=a.n(x),R=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={spinTime:1e4},a.handleSpin=function(e){var t=a.props.anime,n=t[Math.floor(Math.random()*t.length)];a.props.fetchAnime(n.mal_id);var r=0;setInterval(function(){a.props.animeDescState.error&&!a.props.animeDescState.loading&&r<=20&&(r++,a.props.fetchAnime(a.props.currentAnime))},1e3);var s=document.getElementById(n.mal_id),l=(s.parentElement.parentElement.childNodes.length-2)*s.parentElement.offsetWidth,i=function(e){for(var t=[],a=e.length>>>0;a--;)t[a]=e[a];return t}(s.parentElement.childNodes).indexOf(s)*(s.offsetWidth+20),o=window.innerWidth/2-18-Math.random()*(s.offsetWidth-13);console.log(n.title,s);var c=a.state.spinTime,m=document.getElementById("spin-button").parentElement,u=document.getElementById("reset-spinner-button").parentElement,p=document.querySelector(".display-winner"),d=document.querySelector(".carousel"),y=document.querySelector(".arrow"),f=document.getElementById("username-input").parentElement.parentElement,E=document.getElementById("list-type-menu-icon"),h=document.getElementById("absolute-anime-description"),g=document.querySelector(".header-container");d.style.transition="transform "+c+"ms cubic-bezier(0.165, 0.84, 0.44, 1)",d.style.transform="translateX(-"+(l+i-o)+"px)",m.style.opacity="0",m.style.transform="translateY(-40px)",m.style.pointerEvents="none",E.style.opacity="0",E.style.transform="translateY(-40px)",E.style.pointerEvents="none",y.style.transform="scaleY(1)",f.style.transition="all 200ms ease",f.style.opacity="0",f.style.transform="translateY(-40px)",f.style.pointerEvents="none",document.getElementById("anime-color-swapper").style.transform="translateY(-1.24em)",document.querySelector(".pink-anime").style.opacity="1",document.querySelector(".blue-anime").style.opacity="0",setTimeout(function(){m.style.display="none",u.style.display="flex",E.style.display="none",p.style.display="flex",f.style.display="none"},300),setTimeout(function(){p.style.opacity="1",p.href=n.url,p.style.transform="translateY(0px)",p.style.pointerEvents="all",u.style.opacity="1",u.style.transform="translateY(0px)",u.style.pointerEvents="all",u.style.display="flex",d.style.transition="all 500ms ease",h.style.transition="all 200ms ease-in-out",h.style.transform="translateX(0%)",g.style.transition="all 200ms ease-in-out",g.style.transform="translateX(100%)"},c)},a.handleReset=function(e){var t=document.getElementById("spin-button").parentElement,n=document.getElementById("reset-spinner-button").parentElement,r=document.querySelector(".display-winner"),s=document.querySelector(".carousel"),l=document.querySelector(".arrow"),i=document.getElementById("username-input").parentElement.parentElement,o=document.getElementById("list-type-menu-icon"),c=document.getElementById("absolute-anime-description"),m=document.querySelector(".header-container");s.style.transform="translateX(-100px)",s.style.transition="transform "+a.state.spinTime+"ms cubic-bezier(0.165, 0.84, 0.44, 1);",r.style.opacity="0",r.style.transform="translateY(-50px)",r.style.pointerEvents="none",n.style.opacity="0",n.style.transform="translateY(-50px)",n.style.pointerEvents="none",l.style.transform="scaleY(0)",c.style.transform="translateX(-100%)",c.style.transition="all 500ms ease-in-out",m.style.transition="all 500ms ease-in-out",m.style.transform="translateX(0%)",document.getElementById("anime-color-swapper").style.transform="translateY(0px)",document.querySelector(".pink-anime").style.opacity="0",document.querySelector(".blue-anime").style.opacity="1",setTimeout(function(){t.style.pointerEvents="all",t.style.opacity="1",t.style.transform="translateY(0px)",o.style.opacity="1",o.style.transform="translateY(0px)",o.style.pointerEvents="all",i.style.opacity="1",i.style.transform="translateY(0px)",i.style.pointerEvents="all",i.style.display="flex",r.style.display="none",n.style.display="none",t.style.display="flex",o.style.display="flex"},300)},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.anime;return r.a.createElement("div",{className:"top-toolbar"},r.a.createElement("div",{className:"toolbar-left"},r.a.createElement("form",{className:"mal-username-form",onSubmit:this.props.handleSubmit},r.a.createElement(I.a,{autoComplete:"off",hintText:"Your MyAnimeList username",errorText:this.props.error&&"Invalid username",id:"username-input",errorStyle:{position:"absolute",top:"0",left:"0",pointerEvents:"none",fontSize:"12px"}}),r.a.createElement(j.a,{tooltip:"Confirm",iconClassName:"material-icons",type:"submit"},"done")),r.a.createElement("a",{className:"display-winner",href:"loading",target:"_blank"},"View at MyAnimeList")),r.a.createElement("div",{className:"toolbar-right"},r.a.createElement(C.a,{onItemClick:this.props.handleChangeListType,value:this.props.value,anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},iconButtonElement:r.a.createElement(j.a,{touch:!0,id:"list-type-menu-icon"},r.a.createElement(k.a,null))},r.a.createElement(D.a,{primaryText:"Plan To Watch",value:"6"}),r.a.createElement(D.a,{primaryText:"Currently Watching",value:"1"}),r.a.createElement(D.a,{primaryText:"Completed",value:"2"}),r.a.createElement(D.a,{primaryText:"On Hold",value:"3"}),r.a.createElement(D.a,{primaryText:"Dropped",value:"4"})),r.a.createElement(T.a,{label:"ROLL A RANDOM ANIME",primary:!0,onClick:e.length>0?this.handleSpin:function(){},id:"spin-button",style:{transition:"all 200ms ease"}}),r.a.createElement(T.a,{label:"RESET THE SPINNER",secondary:!0,onClick:e.length>0?this.handleReset:function(){},id:"reset-spinner-button",style:{display:"none",transform:"translateY(-20px)",opacity:"0",transition:"all 200ms ease",pointerEvents:"none"}})))}}]),t}(n.Component),U=Object(y.b)(function(e){return{animeDescState:e.mal.animeDescState,currentAnime:e.mal.currentAnime}},function(e){return{fetchAnime:function(t){e(function(e){return function(t){return t({type:"LOADING_ANIME_INFO",currentAnime:e}),v.Mal.anime(e).then(function(e){return e}).then(function(e){return t({type:"ANIME_INFO_LOADED",payload:e})}).catch(function(e){return t({type:"ANIME_INFO_FAILED_TO_LOAD",error:e})})}}(t))}}})(R),B=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.shuffle=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}return e},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.anime,t=[];if(e.length>0)for(var a=0;a<80;a+=e.length)t.push(a);return console.log("anime in current listType",e),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"arrow"}),r.a.createElement("div",{className:"carousel"},t.map(function(t){return r.a.createElement("div",{className:"virtual-container",key:t},e.map(function(e){return r.a.createElement("div",{className:"virtual-image each-image",key:e.mal_id},r.a.createElement("img",{src:e.image_url,alt:e.title}),r.a.createElement("div",{className:"anime-quickdesc"},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.title)))}))}),r.a.createElement("div",{className:"real-container"},this.shuffle(e).map(function(e){return r.a.createElement("div",{className:"real-image each-image",key:e.mal_id,id:e.mal_id},r.a.createElement("img",{src:e.image_url,alt:e.title}),r.a.createElement("div",{className:"anime-quickdesc"},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.title)))})),r.a.createElement("div",{className:"virtual-container"},e.filter(function(t){return e.indexOf(t)<3}).map(function(e){return r.a.createElement("div",{className:"virtual-image each-image",key:e.mal_id},r.a.createElement("img",{src:e.image_url,alt:e.title}),r.a.createElement("div",{className:"anime-quickdesc"},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.title)))}))))}}]),t}(n.Component),q=Object(y.b)(function(e){return e.mal.userAnime?(e.mal.userAnime.length,{anime:e.mal.userAnime}):{anime:[]}})(B),F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"error-message-container"},r.a.createElement("h1",{className:"error-header"},'The username "',this.props.username,'" has not been found.'),r.a.createElement("h4",{className:"error-subheading"},"Make sure the username you have entered is verified at MyAnimeList."))}}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.formatListType=function(e){switch(e){case"6":return"Plan To Watch";case"1":return"Currently Watching";case"2":return"Completed";case"4":return"Dropped";case"3":return"On Hold";default:return"Select list type"}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"error-message-container"},r.a.createElement("h1",{className:"error-header"},'The "',this.formatListType(this.props.listType),'" List of'," ",this.props.username," is empty."),r.a.createElement("h4",{className:"error-subheading"},this.props.username,' must have at least one anime in "',this.formatListType(this.props.listType),'".'))}}]),t}(n.Component),z=a(428),P=a.n(z),W=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={listType:"6",open:!1,firstLoaded:!1},a.handleOpen=function(){a.setState(Object(d.a)({},a.state,{open:!0}))},a.handleClose=function(){a.setState(Object(d.a)({},a.state,{open:!1}))},a.handleSubmit=function(e){e.preventDefault();var t=a.props.fetchAnime;if(""!==e.target[0].value&&null!==e.target[0]){t(e.target[0].value,a.state.listType);var n=0;setInterval(function(){"Internal Server Error"===a.props.errorMessage&&!a.props.displayOption.loading&&n<=20&&(n++,t(a.props.username,a.state.listType))},1e3)}},a.handleChangeListType=function(e,t){a.setState(Object(d.a)({},a.state,{listType:t.props.value})),a.props.fetchAnime(a.props.username,t.props.value)},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.fetchAnime;console.log("COMPONENT HAS MOUNTED"),t(this.props.username,this.state.listType);var a=0;setInterval(function(){"Internal Server Error"===e.props.errorMessage&&!e.props.displayOption.loading&&a<=20&&(a++,t(e.props.username,e.state.listType))},1e3)}},{key:"render",value:function(){var e=this.props,t=e.anime,a=e.displayOption;return r.a.createElement("div",{className:"main-carousel"},r.a.createElement(U,{value:this.state.listType,anime:t,handleSubmit:this.handleSubmit,error:"Bad Request"===this.props.errorMessage,handleChangeListType:this.handleChangeListType}),r.a.createElement("div",{className:"carousel-container"},a.loading||"Internal Server Error"===this.props.errorMessage?r.a.createElement("div",{className:"loading-container"},r.a.createElement(N.a,{size:150,thickness:10,color:"#f1f1f1",className:"circular-progress"})):a.success?r.a.createElement(q,null):"Bad Request"===this.props.errorMessage?r.a.createElement(F,{username:this.props.username}):r.a.createElement(Y,{listType:this.state.listType,username:this.props.username})),r.a.createElement("div",{className:"bottom-toolbar"},r.a.createElement(j.a,{style:{borderColor:"white",zIndex:"3"},iconClassName:"material-icons",type:"submit",onClick:this.handleOpen},"contact_mail"),r.a.createElement("a",{href:"https://play.google.com/store/apps/details?id=com.randomanimepicker",id:"play-icon"},r.a.createElement("span",null,"Download my app with many more features on Google Play!"),r.a.createElement("img",{src:"https://downloads.andyroid.net/wp-content/uploads/2015/09/Google-Play-Store-icon.png",alt:"PLAY"})),r.a.createElement(P.a,{title:"Contact the developer",modal:!1,open:this.state.open,onRequestClose:this.handleClose},r.a.createElement("span",null,"Email: ",r.a.createElement("span",null,"moreez@protonmail.com")))))}}]),t}(n.Component),G=Object(y.b)(function(e){return console.log("updated user anime",e.mal.userAnime),e.mal.userAnime?0===e.mal.userAnime.length?{anime:e.mal.userAnime,displayOption:e.mal.displayOption,noAnime:!0,errorMessage:e.mal.errorMessage,username:e.mal.currentUser}:{anime:e.mal.userAnime,displayOption:e.mal.displayOption,noAnime:!1,errorMessage:e.mal.errorMessage,username:e.mal.currentUser}:{anime:[],displayOption:e.mal.displayOption,noAnime:!1,errorMessage:e.mal.errorMessage,username:e.mal.currentUser}},function(e){return{fetchAnime:function(t,a){e(function(e,t){return function(a){a({type:"LOADING_MAL_DATA",newUsername:e}),v.Mal.user(e).then(function(e){return e.anime_stats.total_entries}).then(function(n){for(var r=Math.floor(n/300)+1,s=[],l=b(function(e){return e},1,1e3),i=function(r){l(r).then(function(){var l=function(){var l=Object(g.a)(E.a.mark(function l(){return E.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,v.Mal.user(e,"animelist","all",r).then(function(e){return s.push.apply(s,Object(h.a)(e.anime)),e}).then(function(e){return console.log(r,e),e}).then(function(){if(s.length===n){console.log("allAnime",s);var e=s.filter(function(e){return e.watching_status===Number(t)});return a({type:"MAL_DATA_REQUEST_SUCCESSFUL",payload:e})}}).catch(function(e){if("Something went wrong, please try again later"===JSON.parse(e.error).message)return a({type:"MAL_DATA_REQUEST_FAILED",error:e})});case 2:return l.sent,l.abrupt("return",Response);case 4:case"end":return l.stop()}},l)}));return function(){return l.apply(this,arguments)}}();Object(g.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(l,{retries:5});case 2:case"end":return e.stop()}},e)}))()}).catch(function(e){return console.log("ERROR HAS OCCURED",e)})},o=1;o<=r;o++)i(o)})}}(t,a))},clearError:function(t){e({type:"CLEAR_ERROR_MESSAGE",payload:t})},changeUsername:function(t){e({type:"MAL_DATA_REQUEST_SUCCESSFUL",username:t})}}})(W),X=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.animeInfo;return r.a.createElement("div",{id:"section2",className:"section"},r.a.createElement("div",{className:"mal-header"},r.a.createElement("div",{id:"absolute-anime-description"},e?r.a.createElement("div",{className:"anime-details"},r.a.createElement("div",{className:"anime-info"},r.a.createElement("h3",{className:"info-heading"},"Information"),r.a.createElement("ul",{className:"info-list"},r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Episodes: "),r.a.createElement("span",{className:"pink bold"},e.episodes)),r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Genres: "),e.genres.map(function(t,a){return a===e.genres.length-1?r.a.createElement("span",{key:t.mal_id},t.name):r.a.createElement("span",{key:t.mal_id},t.name,", ")})),r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Status: "),e.status),r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Aired: "),e.aired.string),r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Duration: "),e.duration),r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Rating: "),e.rating))),r.a.createElement("div",{className:"anime-desc-main"},r.a.createElement("h2",null,e.title),r.a.createElement("h5",null,e.title_japanese)),r.a.createElement("div",{className:"anime-ratings"},r.a.createElement("h3",{className:"rating-heading"},"Ratings"),r.a.createElement("ul",{className:"rating-list"},r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Score: "),r.a.createElement("span",{className:"pink bold"},e.score)),r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Scored by: "),"#",e.scored_by),r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Ranked: "),"#",e.rank),r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Popularity: "),"#",e.popularity),r.a.createElement("li",null,r.a.createElement("span",{className:"bold"},"Members: "),e.members)))):r.a.createElement("div",{className:"loading-container"},r.a.createElement(N.a,{size:150,thickness:10,color:"#f1f1f1",className:"circular-progress"}))),r.a.createElement("div",{className:"header-container"},r.a.createElement("div",{style:{fontSize:"2em",marginBottom:"20px",color:"white"}},"MyAnimeList"),r.a.createElement("h5",{style:{display:"flex",flexDirection:"row"}},"RANDOM"," ",r.a.createElement("span",{id:"anime-color-swapper"},r.a.createElement("span",{className:"blue-anime"},"ANIME"),r.a.createElement("span",{className:"pink-anime"},"ANIME"))," ","PICKER"))),r.a.createElement(G,null))}}]),t}(n.Component),H=Object(y.b)(function(e){return e.mal.animeInfo,{animeInfo:e.mal.animeInfo,animeDescState:e.mal.animeDescState}})(X);var Q=function(){return r.a.createElement(i.MuiThemeProvider,null,r.a.createElement("div",{className:"App"},r.a.createElement("main",null,r.a.createElement(H,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(1002),a(1003),a(1004),a(1005);var J=a(60),K={userAnime:void 0,animeInfo:void 0,displayOption:{success:!1,loading:!1,error:!1},animeDescState:{success:!1,loading:!1,error:!1},errorMessage:"",currentUser:"moonbox",currentAnime:{}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_MAL_DATA":return Object(d.a)({},e,{displayOption:{success:!1,loading:!0,error:!1},currentUser:t.newUsername});case"MAL_DATA_REQUEST_SUCCESSFUL":return console.log("response in reducer: ",t.payload),Object(d.a)({},e,{userAnime:t.payload,displayOption:{success:!0,loading:!1,error:!1},errorMessage:""});case"MAL_DATA_REQUEST_FAILED":return console.log("MAL FAILED",t.error),Object(d.a)({},e,{displayOption:{success:!1,loading:!1,error:!0},errorMessage:t.error.response.statusMessage});case"LOADING_ANIME_INFO":return Object(d.a)({},e,{animeDescState:{success:!1,loading:!0,error:!1},currentAnime:t.currentAnime});case"ANIME_INFO_LOADED":return Object(d.a)({},e,{animeInfo:t.payload,animeDescState:{success:!0,loading:!1,error:!1}});case"ANIME_INFO_FAILED_TO_LOAD":return console.log("FAILED TO LOAD ANIME INFO",t.error),Object(d.a)({},e,{animeDescState:{success:!1,loading:!1,error:!0}});default:return e}},$=Object(J.c)({mal:V}),Z=a(429),ee=Object(J.e)($,Object(J.d)(Object(J.a)(Z.a)));l.a.render(r.a.createElement(y.a,{store:ee},r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},431:function(e,t,a){e.exports=a(1006)},544:function(e,t){},546:function(e,t){},578:function(e,t){},579:function(e,t){},648:function(e,t){},766:function(e,t){}},[[431,1,2]]]);
//# sourceMappingURL=main.c66d7ed4.chunk.js.map